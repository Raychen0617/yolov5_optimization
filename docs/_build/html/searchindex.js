Search.setIndex({"docnames": ["index", "kd/overview", "nas/multi-trial", "nas/oneshot", "nas/overview", "pruning/overview", "tutorial"], "filenames": ["index.rst", "kd/overview.md", "nas/multi-trial.md", "nas/oneshot.md", "nas/overview.md", "pruning/overview.md", "tutorial.md"], "titles": ["Yolov5 Optimization Doc", "Knowledge distillation (KD)", "Multi-trial Detection NAS With Efficiency Rewards", "One-Shot NAS on YOLOv5 backbone", "Neural Architecture Search (NAS)", "Pruning", "Tutorials"], "terms": {"index": [], "modul": [1, 6], "search": [0, 2], "page": [], "To": [1, 3, 4, 5, 6], "automat": [4, 6], "network": [1, 4, 6], "lead": [4, 6], "best": [4, 6], "accuraci": [1, 4, 6], "block": [2, 3, 4, 6], "residu": [4, 6], "incept": [4, 6], "bottleneck": [2, 3, 4, 6], "etc": [4, 5, 6], "layer": [2, 4, 6], "conv": [2, 3, 4, 6], "pool": [4, 6], "fc": [4, 6], "hyperparamet": [2, 4, 6], "number": [2, 3, 4, 6], "filter": [4, 6], "size": [2, 3, 4, 6], "kernel": [2, 3, 4, 6], "stride": [2, 3, 4, 6], "pad": [2, 3, 4, 6], "The": [1, 3, 4, 6], "set": [2, 4, 6], "contain": [4, 6], "all": [2, 4, 6], "possibl": [4, 6], "exampl": [1, 2, 4, 5, 6], "construct": [0, 4, 6], "more": [3, 4, 5, 6], "detail": [4, 5, 6], "pleas": [3, 4, 5, 6], "refer": [4, 5, 6], "nni": [0, 2, 3, 4, 5, 6], "import": [2, 3, 4, 5, 6], "retiarii": [2, 3, 4, 6], "nn": [1, 2, 3, 4, 6], "pytorch": [0, 2, 3, 4, 5, 6], "self": [1, 2, 3, 4, 6], "layerchoic": [2, 3, 4, 6], "op": [4, 6], "poolbn": [4, 6], "max": [2, 4, 6], "channel": [2, 3, 4, 5, 6], "3": [2, 3, 4, 6], "1": [0, 1, 2, 3, 4, 6], "sepconv": [4, 6], "ident": [2, 3, 4, 6], "backbon": [0, 2, 4, 5, 6], "yaml": [0, 5, 6], "yolov5sb": [5, 6], "main": [1, 5, 6], "py": [0, 1, 2, 3, 5, 6], "common": 6, "class": [1, 2, 3, 6], "nasc3": [2, 6], "l181": 6, "nasconv": [2, 6], "l214": 6, "aim": [5, 6], "remov": [5, 6], "unimport": [5, 6], "while": [5, 6], "minim": [5, 6], "reconstruct": [5, 6], "error": [2, 3, 5, 6], "everi": [5, 6], "ex": [2, 5, 6], "l1": [5, 6], "l2": [5, 6], "apoz": [5, 6], "fpgm": [5, 6], "from": [1, 2, 3, 5, 6], "compress": [5, 6], "l1normprun": [5, 6], "pruner": [5, 6], "config_list": [5, 6], "gener": [2, 5, 6], "mask": [5, 6], "_": [2, 3, 5, 6], "improv": [1, 6], "student": [0, 1, 6], "": [0, 1, 2, 3, 6], "help": [1, 6], "teacher": [0, 1, 6], "softtarget": [1, 6], "http": [1, 6], "arxiv": [1, 6], "org": [1, 6], "pdf": [1, 6], "1503": [1, 6], "02531": [1, 6], "onli": [0, 1, 2, 6], "chang": [1, 6], "origin": [1, 2, 3, 6], "train": [0, 1, 2, 6], "i": [1, 2, 3, 6], "implement": [1, 6], "new": [0, 1, 6], "loss": [1, 2, 6], "function": [1, 2, 3, 6], "def": [1, 2, 3, 6], "__init__": [1, 2, 3, 6], "t": [1, 6], "super": [1, 2, 3, 6], "forward": [1, 3, 6], "out_": [1, 6], "out_t": [1, 6], "f": [1, 2, 3, 6], "kl_div": [1, 6], "log_softmax": [1, 6], "dim": [1, 6], "softmax": [1, 6], "reduct": [1, 6], "batchmean": [1, 6], "return": [1, 3, 6], "integr": [1, 2, 6], "specifi": [1, 2, 6], "t_weight": [0, 1, 6], "execut": [1, 6], "convert_compar": 6, "convert": 6, "tflite": 6, "compar": 6, "differ": [2, 3, 6], "between": [2, 3, 6], "output": [2, 3, 6], "match": 6, "structual": 6, "back": [0, 6], "yolo": 6, "model_evalu": 6, "evalu": 6, "infer": 6, "time": [2, 6], "paramet": [2, 6], "flop": 6, "specif": 6, "calcul": 6, "environ": 6, "gpu": [2, 3, 6], "rtx": 6, "3090": 6, "10": [0, 2, 3, 6], "python": [0, 6], "7": [2, 3, 6], "o": [2, 6], "ubuntu": 6, "20": [2, 6], "04": 6, "config": [2, 6], "100": [2, 6], "epoch": [0, 2, 6], "scratch": [2, 6], "dataset": [2, 6], "coco": [0, 2, 6], "neural": [0, 1], "architectur": 0, "prune": 0, "knowledg": 0, "distil": 0, "model": [0, 1, 5, 6], "na": 0, "kd": [], "tool": [], "experi": [], "result": 2, "indic": [], "tabl": [], "tutori": [], "welcom": [], "yolov5": [2, 4], "optim": [1, 2, 5], "document": [], "intellig": [], "lightweight": [], "power": [], "toolkit": [], "user": [], "autom": [], "featur": [], "engin": [], "instal": [], "current": [], "releas": [], "pip": [], "see": [], "guid": [], "you": [2, 3], "need": [2, 3, 4], "addit": [], "nnictl": [], "hello": [], "have": 3, "well": [], "torchvis": [], "run": [2, 3, 4], "thi": 0, "journei": [], "now": [], "follow": [2, 4], "absolut": [], "quickstart": [], "maintain": [], "github": [], "repositori": [], "we": [0, 3], "collect": [], "feedback": [], "propos": [], "idea": [], "can": [2, 3], "open": [2, 3], "issu": [], "bug": [], "request": [], "pull": [], "code": 4, "sure": [2, 3], "read": [], "befor": 2, "do": 2, "particip": [], "discuss": [], "question": [], "join": [], "im": [], "group": [2, 3], "gitter": [], "wechat": [], "If": [], "us": [2, 3], "scientif": [], "public": [], "consid": [], "microsoft": [], "version": [], "com": [], "bibtex": [], "entri": [], "replac": [2, 3], "particular": [], "ar": 2, "softwar": [], "nni2021": [], "author": [], "month": [], "titl": [], "url": [], "2": [0, 2, 3], "0": [2, 3], "year": [], "2021": [], "start": 2, "project": 0, "manag": 0, "sever": 0, "method": 0, "includ": 0, "algorithm": 1, "test": [0, 2, 3], "br": [], "tensorflow": 0, "fvcore": 0, "vision": 0, "toolbox": 0, "gau": [], "nernst": [], "9": [0, 2, 3], "one": [0, 3], "shot": [0, 4], "bash": [], "oneshot_na": [0, 3], "data": [0, 2, 3], "101": 0, "weight": [0, 2], "checkpoint": 0, "enasv2_l1_yolov5": [], "pt": 0, "yolov5m": [], "soft": 0, "target": [0, 2], "work": 0, "One": [0, 4], "instead": 3, "full": [], "map": [0, 2], "structur": 0, "detect": [0, 3], "multi": 0, "trial": [0, 3, 4], "hello_na": [0, 2], "convers": [], "For": 4, "ultralyt": [], "gpl": [], "licens": [], "nc": [2, 3], "80": 2, "depth_multipl": [], "33": [], "depth": [], "multipl": [], "width_multipl": [], "50": [], "anchor": 2, "13": [], "16": [2, 3], "30": [], "23": [], "p3": [2, 3], "8": [2, 3], "61": [], "62": [], "45": [], "59": [], "119": [], "p4": [2, 3], "116": [], "90": [], "156": [], "198": [], "373": [], "326": [], "p5": [2, 3], "32": [2, 3], "v6": [2, 3], "arg": [2, 3], "64": [2, 3], "6": [2, 3], "p1": [2, 3], "128": [2, 3], "p2": [2, 3], "4": [2, 3], "256": [2, 3], "512": [2, 3], "5": [2, 3], "1024": [2, 3], "sppf": [2, 3], "spp": 3, "head": 3, "upsampl": [], "none": [2, 3], "nearest": [], "concat": [], "cat": [], "c3": [2, 3], "fals": [2, 3], "17": [], "small": [], "14": [], "medium": [], "larg": [], "changabl": [], "csp": [2, 3], "convolut": [2, 3], "c1": [2, 3], "c2": [2, 3], "inputshap": [2, 3], "id": [2, 3], "n": [2, 3], "shortcut": [2, 3], "true": [2, 3], "g": [2, 3], "e": [2, 3], "ch_in": [2, 3], "ch_out": [2, 3], "expans": [2, 3], "c_": [2, 3], "int": [2, 3], "hidden": [], "choic": [2, 3], "scale": [2, 3], "append": [2, 3], "nasc3sub": [2, 3], "total": [2, 3], "label": [2, 3], "c3_": [2, 3], "format": [2, 3], "cv1": [2, 3], "cv2": [2, 3], "cv3": [2, 3], "option": [2, 3], "act": [2, 3], "frelu": [2, 3], "m": [2, 3], "sequenti": [2, 3], "rang": [2, 3], "variant": [2, 3], "adjust": [2, 3], "numnber": [2, 3], "varat": [2, 3], "choos": [2, 3], "activ": [2, 3], "standard": [2, 3], "k": [2, 3], "p": [2, 3], "conv2d": [2, 3], "autopad": [2, 3], "bia": [2, 3], "outputshap": [2, 3], "conv_2d_output_shap": [2, 3], "offsetk": [2, 3], "offsetpad": [2, 3], "els": [2, 3], "nasconv_": [2, 3], "shape": [2, 3], "bn": [2, 3], "batchnorm2d": [2, 3], "silu": [2, 3], "isinst": 2, "act_choic": [2, 3], "relu": [2, 3], "_act": [2, 3], "part": 2, "yolov5s_na": 2, "changeabl": [2, 3], "check": [2, 3], "make": [2, 3], "same": [2, 3], "devic": [2, 3], "cuda": 2, "hyp": 2, "low": 2, "cfg": [2, 3], "model_spac": [2, 3], "ch": [2, 3], "get": 2, "support": 2, "mani": 2, "startegi": 2, "simpli": 2, "instanti": 2, "below": 2, "search_strategi": 2, "random": 2, "dedup": 2, "dedupl": 2, "want": 2, "evaluate_model": 2, "model_detect": 2, "torch": [2, 3], "is_avail": 2, "cpu": 2, "str": 2, "ignor": 2, "safe_load": 2, "world_siz": 2, "getenv": 2, "imgsz": 2, "640": 2, "batch_siz": [2, 3], "single_cl": 2, "util": [2, 3], "colorstr": 2, "train_path": 2, "home": 2, "raytjchen": 2, "desktop": 2, "coco128": 2, "imag": 2, "train2017": 2, "nb": 2, "nomin": 2, "batch": 2, "how": 2, "singl": 2, "accumul": 2, "round": 2, "weight_decai": 2, "torch_util": 2, "smart_optim": 2, "sgd": 2, "lr0": 2, "momentum": 2, "schedul": 2, "lf": 2, "lambda": 2, "x": [2, 3], "lrf": 2, "linear": [2, 3], "lr_schedul": 2, "lambdalr": 2, "lr_lambda": 2, "plot_lr_schedul": 2, "trainload": 2, "dataload": [2, 3], "create_dataload": 2, "train_load": [2, 3], "augment": 2, "cach": 2, "rect": 2, "rank": 2, "worker": 2, "image_weight": 2, "quad": 2, "prefix": 2, "shuffl": 2, "testload": 2, "val_path": 2, "val_load": 2, "val": 2, "attribut": 2, "obj": 2, "label_smooth": 2, "attach": 2, "labels_to_class_weight": 2, "class_weight": 2, "name": 2, "nas_yolov5": 2, "len": 2, "nw": 2, "warmup_epoch": 2, "last_opt_step": 2, "numpi": 2, "np": 2, "zero": 2, "per": 2, "r": 2, "95": 2, "val_loss": 2, "box": 2, "cl": 2, "last_epoch": 2, "move": 2, "scaler": 2, "amp": 2, "gradscal": 2, "enabl": 2, "nascomputeloss": 2, "compute_loss": 2, "h": 2, "mloss": 2, "pbar": 2, "enumer": [2, 3], "tqdm": 2, "bar_format": 2, "l_bar": 2, "bar": 2, "r_bar": 2, "10b": 2, "zero_grad": 2, "batch_idx": 2, "img": 2, "path": 2, "ni": 2, "sinc": 2, "non_block": 2, "float": 2, "255": 2, "uint8": 2, "float32": 2, "pred": 2, "loss_item": 2, "backward": 2, "step": 2, "unscale_": 2, "unscal": 2, "gradient": 2, "clip_grad_norm_": 2, "max_norm": 2, "clip": 2, "updat": 2, "mean": 2, "print": [2, 3], "end": 2, "valid": 2, "data_dict": 2, "check_dataset": 2, "half": 2, "save_dir": 2, "plot": 2, "callback": 2, "report_intermediate_result": 2, "1000": 2, "report": 2, "final": [2, 3], "report_final_result": 2, "fmrom": 2, "functionalevalu": 2, "evaluate_odel": [], "after": 2, "abov": 2, "prepar": 2, "shown": 2, "retiariiexperi": [2, 3], "retiariiexeconfig": [2, 3], "exp": [2, 3], "exp_config": [2, 3], "local": [2, 3], "experiment_nam": [2, 3], "yolov5s_nas_search": 2, "configur": 2, "control": 2, "most": [2, 3], "max_trial_numb": [2, 3], "spawn": [2, 3], "trial_concurr": [2, 3], "two": [2, 3], "concurr": [2, 3], "rememb": 2, "use_active_gpu": [2, 3], "should": 2, "wish": 2, "occupi": 2, "possibli": 2, "gui": 2, "trial_gpu_numb": [2, 3], "training_servic": [2, 3], "8083": 2, "model_dict": [2, 3], "export_top_model": [2, 3], "formatt": [2, 3], "dict": [2, 3], "hyper": 2, "save_json_path": [2, 3], "json": [2, 3], "w": [2, 3], "fp": [2, 3], "dump": [2, 3], "memo": [], "warn": 4, "almost": [2, 3], "add": [2, 3], "model_wrapp": [2, 3], "begin": [2, 3], "raychen0617": [], "yolov5_optim": [], "blob": [], "master": [], "argument": 3, "start_tim": 2, "model_tim": 2, "term": 2, "our": [2, 3], "decis": 2, "alpha": 2, "03": 2, "yolov5sb_na": 3, "nas_backbone_yaml": 3, "nasbackbon": 3, "200": 3, "full_cod": 3, "parse_backbon": 3, "d": 3, "input_channel": 3, "gd": [], "gw": 3, "list": [], "component_map": 3, "save": 3, "pre_shap": 3, "savelist": [], "out": 3, "kei": 3, "eval": [], "string": [], "j": [], "contextlib": [], "suppress": [], "nameerror": [], "n_": [], "gain": [], "ghostconv": 3, "ghostbottleneck": 3, "dwconv": 3, "mixconv2d": 3, "focu": 3, "crossconv": 3, "bottleneckcsp": 3, "c3tr": 3, "c3spp": 3, "c3ghost": 3, "convtranspose2d": 3, "dwconvtranspose2d": 3, "c3x": 3, "make_divis": 3, "insert": 3, "repeat": 3, "elif": 3, "sum": [], "contract": [], "expand": [], "m_": [], "avgpool": 3, "adaptiveavgpool2d": 3, "find": 3, "1280": 3, "768": 3, "load": 3, "view": 3, "tinyimagenet": 3, "train_dataset": 3, "test_dataset": 3, "test_load": 3, "create_tinyimagenet": 3, "batchsiz": 3, "explor": 3, "space": 3, "firstli": 3, "an": 3, "provid": 3, "criterion": 3, "good": 3, "program": 3, "task": 3, "so": 3, "pl": 3, "lightn": 3, "here": 3, "trace": 3, "train_dataload": 3, "num_work": 3, "val_dataload": 3, "other": 3, "keyword": 3, "pass": 3, "pytorch_lightn": 3, "trainer": 3, "max_epoch": 3, "In": 3, "dart": 3, "ena": 3, "strategi": 3, "exploration_strategi": 3, "execution_engin": 3, "oneshot": 3, "port": 3, "8081": 3, "fixed_arch": 3, "match_na": 3, "save_model_path": 3, "yolo_yaml": 3, "pars": 3, "compon": 3}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"welcom": [], "yolov5": [0, 1, 3, 5, 6], "optim": [0, 6], "doc": 0, "": [], "document": [], "indic": [], "tabl": [], "model": [2, 3], "neural": [4, 6], "architectur": [4, 6], "search": [4, 6], "na": [2, 3, 4, 6], "goal": [1, 4, 5, 6], "space": [2, 4, 6], "tutori": [0, 1, 4, 5, 6], "code": [1, 2, 3, 5, 6], "br": [1, 5, 6], "prune": [5, 6], "rank": [5, 6], "algorithm": [5, 6], "knowledg": [1, 6], "distil": [1, 6], "kd": [1, 6], "tool": 6, "experi": [2, 3, 6], "result": 6, "content": [], "get": 3, "start": 0, "try": [], "your": [], "first": [], "nni": [], "why": [], "choos": [], "make": [], "automl": [], "techniqu": [], "plug": [], "plai": [], "eas": [], "effort": [], "scale": [], "manag": [], "support": 3, "contribut": [], "back": 3, "cite": [], "environ": 0, "setup": [0, 2, 3], "quick": 0, "api": 0, "overview": [], "common": 0, "issu": 0, "multi": [2, 4], "trial": 2, "detect": 2, "effici": 2, "reward": 2, "option": 4, "defin": [2, 3], "changabl": [2, 3], "modul": [2, 3], "chang": [2, 3], "yaml": [2, 3], "file": [2, 3], "our": [], "explor": 2, "pick": 2, "an": 2, "strategi": 2, "custom": 2, "evalu": [2, 3], "creat": 2, "launch": [2, 3], "export": [2, 3], "best": [2, 3], "user": [2, 3], "The": 2, "A": 2, "full": [2, 3], "On": [2, 3], "github": [2, 3], "With": 2, "One": 3, "shot": 3, "backbon": 3, "construct": 3, "componenet": 3, "nasc3": 3, "nasconv": 3, "function": [], "pars": [], "compon": [], "wrap": 3, "classif": 3, "train": 3, "dataset": 3, "startegi": 3, "set": 3, "config": 3, "final": [], "usabl": 3, "map": 3, "structur": 3, "yolo": 3, "oneshot": 4, "v": 4, "trail": 4}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 56}})